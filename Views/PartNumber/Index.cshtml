@{
    ViewData["Title"] = "Part Numbers";
}

<div class="container">
    <h2>Part Numbers</h2>

    <br />

    <div class="row">
        <div class="col-12">
            <a asp-action="Create" asp-controller="PartNumber" class="btn btn-primary float-right">New Part Number</a>
        </div>
    </div>

    <hr />

    <div class="row">
        <div class="col-12">
            <table id="table-part-numbers" class="table table-striped table-bordered dt-responsive nowrap"></table>
        </div>
    </div>
</div>

@section Scripts {
    <script>(function () {
            $('#table-part-numbers').dataTable({
                serverSide: true,
                ajax: "/PartNumber/DataTable",
                columns: [
                    {
                        name: 'pkpartNumber',
                        data: 'pkpartNumber',
                        title: "PKPartNumber",
                        sortable: true,
                        searchable: false
                    },
                    {
                        name: 'name',
                        data: "name",
                        title: "PartNumber",
                        sortable: true,
                        searchable: false
                    },
                    {
                        name: 'customer',
                        data: "customer.name",
                        title: "Customer",
                        sortable: false,
                        searchable: false
                    },
                    {
                        name: 'available',
                        data: "available",
                        title: "Available",
                        sortable: true,
                        searchable: false
                    },
                    {
                        mData: "pkpartNumber",
                        title: "Actions",
                        sortable: false,
                        searchable: false,
                        mRender: function (data, type, row) {
                            return '<a class="btn btn-sm btn-secondary" href="PartNumber/Edit/' + data + '">Edit</a> <a class="btn btn-sm btn-warning" href="PartNumber/Delete/' + data + '">Delete</a>';
                        }
                    }
                ]
            });
        })();</script>
}
